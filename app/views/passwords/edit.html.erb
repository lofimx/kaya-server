<% content_for(:title) { "Set New Password - Kaya" } %>
<% content_for(:hide_header) { true } %>

<div class="auth-page">
  <div class="auth-page-content">
    <div class="auth-container">
      <div class="auth-header">
        <%= link_to root_path, class: "auth-logo" do %>
          <%= render "shared/logo_icon", size: 36, id_suffix: "auth-reset" %>
          <span class="logo-text">kaya</span>
        <% end %>
        <h1>Set a new password</h1>
        <p class="auth-subtitle">Enter your new password below</p>
      </div>

      <% if flash[:alert] %>
        <div class="alert alert-error"><%= flash[:alert] %></div>
      <% end %>

      <%= form_with url: password_path(params[:token]), method: :put, class: "auth-form" do |form| %>
        <div class="form-group">
          <%= form.label :password, "New password" %>
          <%= form.password_field :password, required: true, autocomplete: "new-password", placeholder: "At least 8 characters", minlength: 8, maxlength: 72, class: "form-input" %>
          <span class="form-hint">Must be at least 8 characters</span>
        </div>

        <div class="form-group">
          <%= form.label :password_confirmation, "Confirm new password" %>
          <%= form.password_field :password_confirmation, required: true, autocomplete: "new-password", placeholder: "Enter your password again", maxlength: 72, class: "form-input" %>
        </div>

        <%= form.submit "Update password", class: "btn btn-primary btn-full" %>
      <% end %>

      <p class="auth-footer">
        <%= link_to "Back to login", new_session_path %>
      </p>
    </div>
  </div>
</div>
